function getRandomInt(n,t){return Math.floor(Math.random()*(t-n+1))+n}var audioSet=[{subSets:[["sounds/001/108_ci_109_2013/108_ci_109_2013_10.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_11.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_12.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_14.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_15.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_16.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_20.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_22.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_25.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_27.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_31.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_33.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_38.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_40.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_42.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_44.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_47.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_49.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_51.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_52.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_53.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_54.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_58.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_6.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_64.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_66.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_68.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_69.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_70.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_72.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_73.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_74.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_8.wav","sounds/001/108_ci_109_2013/108_ci_109_2013_9.wav"],["sounds/001/108-109b_2014/108-109b_2014_10.wav","sounds/001/108-109b_2014/108-109b_2014_11.wav","sounds/001/108-109b_2014/108-109b_2014_12.wav","sounds/001/108-109b_2014/108-109b_2014_13.wav","sounds/001/108-109b_2014/108-109b_2014_14.wav","sounds/001/108-109b_2014/108-109b_2014_15.wav","sounds/001/108-109b_2014/108-109b_2014_16.wav","sounds/001/108-109b_2014/108-109b_2014_17.wav","sounds/001/108-109b_2014/108-109b_2014_18.wav","sounds/001/108-109b_2014/108-109b_2014_19.wav","sounds/001/108-109b_2014/108-109b_2014_2.wav","sounds/001/108-109b_2014/108-109b_2014_20.wav","sounds/001/108-109b_2014/108-109b_2014_21.wav","sounds/001/108-109b_2014/108-109b_2014_3.wav","sounds/001/108-109b_2014/108-109b_2014_4.wav","sounds/001/108-109b_2014/108-109b_2014_5.wav","sounds/001/108-109b_2014/108-109b_2014_6.wav","sounds/001/108-109b_2014/108-109b_2014_7.wav","sounds/001/108-109b_2014/108-109b_2014_8.wav","sounds/001/108-109b_2014/108-109b_2014_9.wav",]]},{subSets:[["sounds/002/193_2013/193_2013_10.wav","sounds/002/193_2013/193_2013_11.wav","sounds/002/193_2013/193_2013_12.wav","sounds/002/193_2013/193_2013_13.wav","sounds/002/193_2013/193_2013_14.wav","sounds/002/193_2013/193_2013_15.wav","sounds/002/193_2013/193_2013_16.wav","sounds/002/193_2013/193_2013_17.wav","sounds/002/193_2013/193_2013_18.wav","sounds/002/193_2013/193_2013_19.wav","sounds/002/193_2013/193_2013_2.wav","sounds/002/193_2013/193_2013_20.wav","sounds/002/193_2013/193_2013_21.wav","sounds/002/193_2013/193_2013_22.wav","sounds/002/193_2013/193_2013_23.wav","sounds/002/193_2013/193_2013_24.wav","sounds/002/193_2013/193_2013_25.wav","sounds/002/193_2013/193_2013_3.wav","sounds/002/193_2013/193_2013_5.wav","sounds/002/193_2013/193_2013_6.wav","sounds/002/193_2013/193_2013_7.wav","sounds/002/193_2013/193_2013_8.wav","sounds/002/193_2013/193_2013_9.wav",],["sounds/002/193b_2014/193b_2014_1.wav","sounds/002/193b_2014/193b_2014_10.wav","sounds/002/193b_2014/193b_2014_11.wav","sounds/002/193b_2014/193b_2014_12.wav","sounds/002/193b_2014/193b_2014_13.wav","sounds/002/193b_2014/193b_2014_14.wav","sounds/002/193b_2014/193b_2014_15.wav","sounds/002/193b_2014/193b_2014_16.wav","sounds/002/193b_2014/193b_2014_17.wav","sounds/002/193b_2014/193b_2014_18.wav","sounds/002/193b_2014/193b_2014_19.wav","sounds/002/193b_2014/193b_2014_2.wav","sounds/002/193b_2014/193b_2014_20.wav","sounds/002/193b_2014/193b_2014_21.wav","sounds/002/193b_2014/193b_2014_22.wav","sounds/002/193b_2014/193b_2014_23.wav","sounds/002/193b_2014/193b_2014_24.wav","sounds/002/193b_2014/193b_2014_25.wav","sounds/002/193b_2014/193b_2014_26.wav","sounds/002/193b_2014/193b_2014_27.wav","sounds/002/193b_2014/193b_2014_3.wav","sounds/002/193b_2014/193b_2014_4.wav","sounds/002/193b_2014/193b_2014_5.wav","sounds/002/193b_2014/193b_2014_6.wav","sounds/002/193b_2014/193b_2014_7.wav","sounds/002/193b_2014/193b_2014_8.wav","sounds/002/193b_2014/193b_2014_9.wav",]]}];(function(){var e=!1,o=4,s=audioSet.length,t=null,i,r,u,h,n,f;for(o<s*2&&alert("More cards than sets."),i=[],n=0;n<s;n++){for(r=[],u=0;u<audioSet[n].subSets.length;u++)h=getRandomInt(0,audioSet[n].subSets[u].length-1),r.push({weight:getRandomInt(0,1e3),url:audioSet[n].subSets[u][h]});r.sort(function(n,t){return n.weight-t.weight});i.push({setIndex:n,weight:getRandomInt(0,1e3),url:r[0].url});i.push({setIndex:n,weight:getRandomInt(0,1e3),url:r[1].url})}for(i.sort(function(n,t){return n.weight-t.weight}),n=0;n<o;n++){f={cardId:"#card"+n,url:i[n].url,setIndex:i[n].setIndex};console.log(f);$(document).on("click",f.cardId,f,function(n){var u;if(!e){e=!0;var r=n.data.cardId,f=n.data.url,i=n.data;$(r).addClass("cardPlaying");$(r).removeClass("cardCovered");$(r).addClass("cardUncovered");u=new Audio(f);u.onended=function(){$(i.cardId).removeClass("cardPlaying");e=!1;console.log("Sound finished for card: ");console.log(i);console.log("First selected card: "+t);console.log(t);t!=null&&t.cardId!=i.cardId?(t.setIndex!=i.setIndex&&($(i.cardId).removeClass("cardUncovered"),$(i.cardId).addClass("cardCovered"),$(t.cardId).removeClass("cardUncovered"),$(t.cardId).addClass("cardCovered")),t=null):t=i};u.play();console.log("Card selected: ");console.log(i)}})}})();